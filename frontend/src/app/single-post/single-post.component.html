<div>
  <mat-card class="example-card">
    <mat-card-header>

      <img mat-card-avatar class="example-header-image" [src]="post.user.imageUrl">
      <mat-card-title>{{ post.user.firstname }} {{ post.user.lastname }}</mat-card-title>

    </mat-card-header>
    <mat-card-content>
      <h1>{{ post.title }}</h1>

    <img mat-card-image [src]="post.mediaUrl" alt="">
      <p>
        {{ post.content }}
      </p>
    </mat-card-content>
    <mat-card-actions>
      <div class="infoPost">
        <div *ngIf="post.likes">
          <div class="likecount" *ngFor="let like of post.likes.slice(0, 1)">
            <div *ngIf="post.likes.length >= 2" class="infoLike">
              <mat-icon class="count">thumb_up</mat-icon> {{like.user.firstname}} {{like.user.lastname}} et {{
              post.likes.length -1}} autre personnes.
            </div>
            <div *ngIf="post.likes.length <= 1" class="infoLike">
              <mat-icon class="count">thumb_up</mat-icon> {{like.user.firstname}} {{like.user.lastname}} aime Ã§a.
            </div>
          </div>
        </div>
        <div *ngFor="let comment of post.comments">
          <div class="comment" *ngIf="post.comments.length <= 1">{{ post.comments.length }} commentaire</div>
          <div class="comment" *ngIf="post.comments.length >= 2">{{ post.comments.length }} commentaires</div>
        </div>
      </div>
    </mat-card-actions>

    <form class="example-form" [formGroup]="commentForm">
      <mat-form-field class="example-full-width">
        <mat-label>Commentaire</mat-label>
        <input matInput #message maxlength="256" placeholder="Laissez un commentaire..." class="form-control"
          id="commentContent" formControlName="commentContent">
        <mat-hint align="end">{{message.value.length}} / 256</mat-hint>
      </mat-form-field>
      <button mat-raised-button color="primary" (click)="onComment()"
        (click)="openPostCommentSnackBar()">Commenter</button>
        <button mat-button (click)="onLike()">
          <mat-icon>thumb_up</mat-icon> J'aime
        </button>
      <button mat-raised-button color="warn" class="delete" (click)="onDelete()" (click)="openDeletePostSnackBar()"
        *ngIf="user_id === post.user_id">Supprimer</button>
    </form>
  </mat-card>

  <mat-card class="example-card" *ngFor="let comment of post.comments">

    <mat-card-header>
      <img mat-card-avatar class="example-header-image" [src]="comment.user.imageUrl">
      <mat-card-title>{{ comment.user.firstname }} {{ comment.user.lastname }}</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <p>
        {{ comment.commentContent }}
      </p>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button (click)="onDeleteComment(comment.comment_id)"
        (click)="openDeleteCommentSnackBar()">Supprimer</button>
    </mat-card-actions>

  </mat-card>
</div>